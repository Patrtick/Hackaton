<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Terraform Log Viewer</title>
  <style type="text/css">@font-face {font-family:Inter;font-style:normal;font-weight:400;src:url(/cf-fonts/v/inter/5.0.16/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:400;src:url(/cf-fonts/v/inter/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:400;src:url(/cf-fonts/v/inter/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:400;src:url(/cf-fonts/v/inter/5.0.16/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:400;src:url(/cf-fonts/v/inter/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:400;src:url(/cf-fonts/v/inter/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:400;src:url(/cf-fonts/v/inter/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:600;src:url(/cf-fonts/v/inter/5.0.16/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:600;src:url(/cf-fonts/v/inter/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:600;src:url(/cf-fonts/v/inter/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:600;src:url(/cf-fonts/v/inter/5.0.16/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:600;src:url(/cf-fonts/v/inter/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:600;src:url(/cf-fonts/v/inter/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:600;src:url(/cf-fonts/v/inter/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:800;src:url(/cf-fonts/v/inter/5.0.16/vietnamese/wght/normal.woff2);unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:800;src:url(/cf-fonts/v/inter/5.0.16/greek/wght/normal.woff2);unicode-range:U+0370-03FF;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:800;src:url(/cf-fonts/v/inter/5.0.16/cyrillic/wght/normal.woff2);unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:800;src:url(/cf-fonts/v/inter/5.0.16/cyrillic-ext/wght/normal.woff2);unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:800;src:url(/cf-fonts/v/inter/5.0.16/greek-ext/wght/normal.woff2);unicode-range:U+1F00-1FFF;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:800;src:url(/cf-fonts/v/inter/5.0.16/latin/wght/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Inter;font-style:normal;font-weight:800;src:url(/cf-fonts/v/inter/5.0.16/latin-ext/wght/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}</style>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="wrap">

    <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="startScreen" class="start-screen">
      <h1 class="big-title">Terraform Log Viewer</h1>
      <div id="dropzone" class="dropzone" title="–ö–ª–∏–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å—é–¥–∞">
        <input id="fileInput" type="file" accept=".json,.log,.txt" style="display:none" />
        <div class="big-btn" id="openFileBtn">
          üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥ / JSON<br>
          <small>(–∫–ª–∏–∫ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å —Å—é–¥–∞)</small>
        </div>
      </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div id="appScreen" class="app-screen" style="display:none">

      <div class="topbar">
        <div class="title">Terraform Log Viewer</div>
        <div class="top-controls">
          <label class="reload-btn" id="reloadLabel">
            üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
            <input id="reloadInput" type="file" accept=".json,.log,.txt" style="display:none" />
          </label>
        </div>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∏ -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="logsTab">–õ–æ–≥–∏</button>
        <button class="tab-btn" data-tab="statsTab">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        <button class="tab-btn" data-tab="advTab">Advanced</button>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∞ –õ–æ–≥–∏ -->
      <div id="logsTab" class="tab-content active">
        <div class="controls">
          <input id="searchInput" placeholder="–ü–æ–∏—Å–∫ –≤ –ª–æ–≥–∞—Ö (regexp –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è). –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º –ø–æ–ª—è–º." />
          <div class="level-filters">
            <button class="filter-btn active" data-level="error">Error</button>
            <button class="filter-btn active" data-level="warning">Warning</button>
            <button class="filter-btn active" data-level="info">Info</button>
            <button class="filter-btn active" data-level="debug">Debug</button>
            <button class="filter-btn active" data-level="normal">Other</button>
          </div>
        </div>
        <div class="log-actions">
          <button id="markReadBtn" class="filter-btn">–ü–æ–º–µ—Ç–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ</button>
          <button id="showReadBtn" class="filter-btn">–ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ</button>
        </div>
        <div id="status" class="status"></div>
        <div id="result" class="result"></div>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
      <div id="statsTab" class="tab-content">
        <div class="stats-grid">
          <div class="stat-card"><h4>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–π (—Å —á–∏—Å–ª–∞–º–∏)</h4><canvas id="levelsBarChart" height="120"></canvas></div>
          <div class="stat-card"><h4>–•—Ä–æ–Ω–æ–ª–æ–≥–∏—è –æ—à–∏–±–æ–∫ (–∫—Ä–∞—Å–Ω—ã–µ —Ç–æ—á–∫–∏)</h4><canvas id="timelineChart" height="120"></canvas></div>
        </div>

        <div id="summaryPanel" class="summary-panel"></div>
        <div class="charts-grid">
          <div class="chart-card">
            <h3>–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤ (–∫–ª–∏–∫–∏ ‚Äî —Ñ–∏–ª—å—Ç—Ä)</h3>
            <canvas id="levelsChart"></canvas>
          </div>
          <div class="chart-card">
            <h3>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (—Ç–æ—á–∫–∏ –æ—à–∏–±–æ–∫ –≤—ã–¥–µ–ª–µ–Ω—ã)</h3>
            <canvas id="timelineChart"></canvas>
          </div>
          <div class="chart-card">
            <h3>Plan vs Apply</h3>
            <canvas id="sectionsChart"></canvas>
          </div>
          <div class="chart-card">
            <h3>–ò—Ç–æ–≥ –ø–ª–∞–Ω–∞</h3>
            <canvas id="planSummaryChart"></canvas>
          </div>
        </div>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∞ Advanced -->
      <div id="advTab" class="tab-content">
        <div class="adv-controls">
          <div class="adv-row">
            <label>tf_resource_type: <input id="advResourceType" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä t1_compute_instance" /></label>
            <label>start timestamp: <input id="advStart" type="datetime-local" /></label>
            <label>end timestamp: <input id="advEnd" type="datetime-local" /></label>
            <button id="advFilterBtn" class="filter-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <button id="advClearBtn" class="filter-btn">–û—á–∏—Å—Ç–∏—Ç—å</button>
          </div>
        </div>
        <div id="chainsPanel" class="summary-panel" style="margin-top:12px;">
          <h3>–¶–µ–ø–æ—á–∫–∏ –ø–æ tf_req_id</h3>
          <div id="chainsList">–ó–∞–≥—Ä—É–∑–∫–∞ —Ü–µ–ø–æ—á–µ–∫...</div>
        </div>
      </div>

    </div>
  </div>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/app.js"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'987d881caef796e6',t:'MTc1OTMzODE4OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>