<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Terraform Log Viewer</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="wrap">

    <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="startScreen" class="start-screen">
      <h1 class="big-title">Terraform Log Viewer</h1>
      <div id="dropzone" class="dropzone">
        <input id="fileInput" type="file" accept=".json,.log,.txt" style="display:none" />
        <label for="fileInput" class="big-btn">
          üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥ / JSON<br>
          <small>(–∫–ª–∏–∫ –∏–ª–∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å —Å—é–¥–∞)</small>
        </label>
      </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <div id="appScreen" class="app-screen" style="display:none">

      <div class="topbar">
        <div class="title">Terraform Log Viewer</div>
        <div>
          <label class="reload-btn">
            üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
            <input id="reloadInput" type="file" accept=".json,.log,.txt" style="display:none" />
          </label>
        </div>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∏ -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="logsTab">–õ–æ–≥–∏</button>
        <button class="tab-btn" data-tab="statsTab">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∞ –õ–æ–≥–∏ -->
      <div id="logsTab" class="tab-content active">
        <div class="controls">
          <input id="searchInput" placeholder="–ü–æ–∏—Å–∫ –≤ –ª–æ–≥–∞—Ö (regexp –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)" />
          <div class="level-filters">
            <button class="filter-btn active" data-level="error">Error</button>
            <button class="filter-btn active" data-level="warning">Warning</button>
            <button class="filter-btn active" data-level="info">Info</button>
            <button class="filter-btn active" data-level="debug">Debug</button>
            <button class="filter-btn active" data-level="normal">Other</button>
          </div>
        </div>
        <div id="status" class="status"></div>
        <div id="result" class="result"></div>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
      <div id="statsTab" class="tab-content">
        <div id="summaryPanel" class="summary-panel"></div>
        <div class="charts-grid">
          <div class="chart-card">
            <h3>–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤</h3>
            <canvas id="levelsChart"></canvas>
          </div>
          <div class="chart-card">
            <h3>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏</h3>
            <canvas id="timelineChart"></canvas>
          </div>
          <div class="chart-card">
            <h3>Plan vs Apply</h3>
            <canvas id="sectionsChart"></canvas>
          </div>
          <div class="chart-card">
            <h3>–ò—Ç–æ–≥ –ø–ª–∞–Ω–∞</h3>
            <canvas id="planSummaryChart"></canvas>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="/app.js"></script>
</body>
</html>
